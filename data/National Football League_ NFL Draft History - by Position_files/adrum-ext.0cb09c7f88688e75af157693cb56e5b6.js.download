;/* Version 0cb09c7f88688e75af157693cb56e5b6 v:4.2.4.0, c:ec89cd69b4f07824026ff5bdd0beeda5b9fa96c0, b:8753 n:1-4.2.4.next-build */(function(){/*


 Copyright (c) 2013, AppDynamics, Inc. All rights reserved.

 Derivative of Google Episodes:

 Copyright 2010 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.

 See the source code here:
 http://code.google.com/p/episodes/
*/
new function(){var g=window.ADRUM;if(g&&g.q&&!0!==window["adrum-disable"]){(function(a){(function(d){d.T=function(f){function c(a){return a.replace(/\s/g,"")===e}var b={a:[1,2,3,"str"]},e='{"a":[1,2,3,"str"]}';if("undefined"!==typeof JSON&&JSON&&d.isFunction(JSON.stringify)&&c(JSON.stringify(b)))return JSON.stringify(f);if("undefined"!==typeof Object&&Object&&d.isFunction(Object.toJSON)&&c(Object.toJSON(b)))return Object.toJSON(f);a.error("M63");return null};d.Ga=function(f,c,b){var e=f,h=b;"xhr"===
b&&(e=document.createElement("div"),f.appendChild(e),h="xhr_"+f.getElementsByTagName("div").length);f=document.createElement("p");f.innerHTML="Script loaded from "+a.conf.adrumExtUrl+". Metrics collected are:";e.appendChild(f);f=document.createElement("table");f.id="ADRUM_"+h;var h=document.createElement("tbody"),d;for(d in c){b=document.createElement("tr");var m=document.createElement("td");m.innerHTML=d;m.className="name";var g=document.createElement("td");g.innerHTML=String(c[d]);g.className="value";
b.appendChild(m);b.appendChild(g);h.appendChild(b)}f.appendChild(h);e.appendChild(f)};d.kf=function(){function a(c,b){try{if("object"!=typeof c)return String(c);if(0<=d.Ba(b,c))return"Already visited";b.push(c);var e;if(d.isArray(c)){for(var h="[ ",p=0;p<c.length;p++)0!=p&&(h+=", "),h+=a(c[p],b);e=h+" ]"}else{var h="{ ",p=!0,m;for(m in c)p?p=!1:h+=", ",h+=a(m,b)+" => "+a(c[m],b);e=h+" }"}return e}catch(g){return"dumpObject failed: "+g}}return function(c){return a(c,[])}}();d.Ba=d.isFunction(Array.prototype.indexOf)?
function(a,c){return a.indexOf(c)}:function(a,c){for(var b=0;b<a.length;b++)if(a[b]==c)return b;return-1};d.compareWindows=function(a,c){return a==c};d.Ka=function(a,c,b,e){if("undefined"===typeof c||null===c)return c;if(d.isArray(c)){a=[];for(var h=0,p=c.length;h<p;h++)a[h]=d.Ka(h,c[h],b,e);return a}if(d.isFunction(c))return c;if(d.isObject(c)){a={};for(h in c)c.hasOwnProperty(h)&&(a[b(h)]=d.Ka(h,c[h],b,e));return a}return e(a,c)};d.mg=function(a){var c=[],b;for(b in a)Object.prototype.hasOwnProperty.call(a,
b)&&c.push([b,a[b]]);return c};d.Vg=function(){try{localStorage.setItem("try","try");var a=localStorage.getItem("try");localStorage.removeItem("try");return"try"===a}catch(c){return!1}};d.Ug=function(){try{var a=d.T({v:1});return 1===JSON.parse(a).v}catch(c){return!1}};d.Wg=function(){return d.isFunction(window.postMessage)};d.cf=function(a,c){var b=document.createElement("div");b.innerHTML='<iframe id="'+c+'" src='+a+' width="0" height="0" tabindex="-1" title="empty" style="display: none;"></iframe>';
document.body.appendChild(b);return document.getElementById(c)};d.Mg=function(a,c){d.isDefined(c)&&(a.parentPageName=c)}})(a.utils||(a.utils={}))})(g||(g={}));(function(a){(function(a){a.hd=function(a){return/^[0-9]+$/.test(a)?Number(a):null};a.yc=function(a){return"number"===typeof a&&!isNaN(a)&&isFinite(a)}})(a.utils||(a.utils={}))})(g||(g={}));(function(a){(function(d){function f(e){var b=e.split("\r\n"),c=/^\s*ADRUM_(\d+): (.+)\s*$/i;e=[];for(var f=0;f<b.length;f++){var d=b[f];try{var g=c.exec(d);
g&&e.push([Number(g[1]),g[2]])}catch(l){a.exception(l,"M66",d)}}Array.prototype.sort.call(e,function(a,e){return a[0]-e[0]});g=[];for(b=0;b<e.length;b++)g.push(e[b][1]);return g}var c=null,b=null;d.pc=function(){b||(b=d.Jc(d.Ra(d.cookieMetadataChunks),d.Ra(a.footerMetadataChunks)));return b};d.getPageGUID=function(){if(!c){var e=d.pc();c=e&&e.clientRequestGUID||a.utils.generateGUID()}return c};d.If=function(e){e=f(e);a.log("M64",e);return d.Jc(d.Ra(e))};d.Jc=function(e,b){function c(e){for(var b=
0;b<e.length;b++){var h=e[b];h!=f&&0>a.utils.Ba(l,h)&&l.push(h)}}if(!e||0>=e.N.length)return null;b||(b=e);var f;if(0<b.N.length){if(f=b.N[0],0>a.utils.Ba(e.N,f))return null}else return a.error("M65"),null;var g=b.serverSnapshotType||e.serverSnapshotType,q=b.hasEntryPointErrors||e.hasEntryPointErrors,l=[];c(e.N);c(b.N);var n={clientRequestGUID:f,btGlobalAccountName:e.btGlobalAccountName};0<l.length&&(n.otherClientRequestGUIDs=l);0<d.Ic(e.btTime,b.btTime).length&&(n.btTime=d.Ic(e.btTime,b.btTime));
null!==g&&(n.serverSnapshotType=g);null!==q&&(n.hasEntryPointErrors=q);return n};d.Ic=function(a,b){for(var c=a.concat(b),f={},d={},g=0;g<c.length;g++){var l=c[g];l.id in f||(f[l.id]=-1);f[l.id]=Math.max(f[l.id],l.duration);l.id in d||(d[l.id]=-1);d[l.id]=Math.max(d[l.id],l.ert)}var c=[],n;for(n in f)f.hasOwnProperty(n)&&c.push({id:n,duration:f[n],ert:d[n]});return c};d.Ra=function(e){if(!a.utils.isArray(e))return null;for(var b=[],c=null,f=[],d=null,g=null,l=0;l<e.length;l++){var n=e[l];if("string"!==
typeof n)return null;n=n.replace(/^"|"$/g,"");n=decodeURIComponent(n).split(",")[0].replace(/^\s+|\s+$/g,"").split(":");if(2===n.length){var r=n[1];switch(n[0]){case "clientRequestGUID":case "g":b.push(r);break;case "btId":case "i":f.push({id:r,duration:-1,ert:-1});break;case "btDuration":case "d":if(0===f.length)return null;n=a.utils.hd(r);if(!a.utils.yc(n)||-1>n)return null;f[f.length-1].duration=n;break;case "btERT":case "e":if(0===f.length)return null;n=a.utils.hd(r);if(!a.utils.yc(n)||-1>n)return null;
f[f.length-1].ert=n;break;case "serverSnapshotType":case "s":d=r;break;case "globalAccountName":case "n":c=r;break;case "hasEntryPointErrors":case "h":g=r}}}return 0===b.length?null:{N:b,btGlobalAccountName:c,btTime:f,serverSnapshotType:d,hasEntryPointErrors:g}};d.Rh=f})(a.correlation||(a.correlation={}))})(g||(g={}));(function(a){var d=a.conf||(a.conf={});d.qh=3E3;d.md=a.isDebug;d.Ie=1E3;d.ce=2;d.be=5;d.Xd=5;d.Yd=20;d.wb=5E3;d.K=512;d.ne=140;d.qe=10;d.le=30;d.pe=10;d.re=30;d.me=30;d.oe=20;d.he=100;
d.yb=2048;d.te=2048;d.Gc={eumAppKey:"ky",userPageName:"un",clientRequestGUID:"cg",otherClientRequestGUIDs:"og",baseGUID:"bg",parentGUID:"mg",parentPageUrl:"mu",parentPageType:"mt",parentLifecyclePhase:"pp",pageType:"pt",pageUrl:"pu",pageReferrer:"pr",pageTitle:"pl",pageName:"pn",navOrXhrMetrics:"mn",cookieMetrics:"mc",resourceTimingInfo:"rt",userData:"ud",userDataLong:"udl",userDataDouble:"udd",userDataBoolean:"udb",userDataDate:"udt",errors:"er",ajaxError:"ae",btGlobalAccountName:"btgan",btTime:"bt",
serverSnapshotType:"ss",hasEntryPointErrors:"se",dataType:"dt",geoCountry:"gc",geoRegion:"gr",geoCity:"gt",localIP:"lp",ip:"ip",BEACONS:"B",ver:"vr",eom:"em",agentId:"ai",rootGUID:"rg",events:"es",guids:"gs",urlParts:"up",sequenceId:"si",eventType:"et",eventGUID:"eg",parentType:"at",serverMetadata:"sm",eventUrl:"eu",line:"ln",message:"dm",duration:"dn",id:"id",ert:"ert",parentUrl:"au",parentPageName:"an",geo:"ge",metrics:"mx",timestamp:"ts",country:"c",region:"r",city:"t",method:"md"}})(g||(g={}));
(function(a){(function(a){var f=function(){function a(){this.Sc=/;jsessionid=[^/?]+/}a.Qg=function(a){for(var e=0,c=0;c<a.length;c++)e=(e<<5)-e+a.charCodeAt(c),e|=0;return e};a.prototype.I=function(a){if(null===a||void 0===a)return null;var e=a.match(this.Sc);if(null!=e){var c=a.indexOf("?");if(0>c||c>e.index)return a.replace(this.Sc,"")}return a};a.prototype.dc=function(a){if(null===a||void 0===a)return null;var e=a.indexOf("?"),c=a.indexOf("#");0>e&&(e=Number.MAX_VALUE);0>c&&(c=Number.MAX_VALUE);
return a.substring(0,Math.min(e,c))};a.prototype.wg=function(b){if(null===b||void 0===b)return null;var e=this.dc(b);return e+"?"+a.Qg(b.substring(e.length))};return a}();a.vh=f;a.p=new f})(a.utils||(a.utils={}))})(g||(g={}));(function(a){(function(d){d.parseURI=function(a){return(a=String(a).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/))?{href:a[0]||"",protocol:a[1]||"",O:a[2]||"",host:a[3]||"",hostname:a[4]||
"",port:a[5]||"",pathname:a[6]||"",search:a[7]||"",hash:a[8]||""}:null};d.absolutizeURI=function(a,c){function b(a){var b=[];a.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(a){"/.."===a?b.pop():b.push(a)});return b.join("").replace(/^\//,"/"===a.charAt(0)?"/":"")}c=d.parseURI(c||"");a=d.parseURI(a||"");return c&&a?(c.protocol||a.protocol)+(c.protocol||c.O?c.O:a.O)+b(c.protocol||c.O||"/"===c.pathname.charAt(0)?c.pathname:c.pathname?
(a.O&&!a.pathname?"/":"")+a.pathname.slice(0,a.pathname.lastIndexOf("/")+1)+c.pathname:a.pathname)+(c.protocol||c.O||c.pathname?c.search:c.search||a.search)+c.hash:null};d.getFullyQualifiedUrl=function(f){try{return d.absolutizeURI(document.location.href,f)}catch(c){return a.exception(c,"M67",f,document.location.href),f}};d.ca=function(a,c){if(3>=c)return"...";a.length>c&&(a=a.substring(0,c-3)+"...");return a};d.ah=function(a,c){if(3>=c)return"...";a.length>c&&(a=a.substring(0,(c-3)/2)+"..."+a.substring(a.length-
(c-3)/2,a.length));return a};d.bh=function(a,c){a.length<=c||(a=d.ca(a,c-1),a+=":");return a};d.$g=function(a,c,b,e,h,p){a=d.bh(a,e);c=d.ca(c,h);b=d.ca(b,p);return 0<b.length?a+"//"+c+":"+b:a+"//"+c};d.dh=function(f,c,b,e,h,p,m,g){b=d.$g(f.protocol,f.hostname,f.port,b,e,h);m=d.ca(f.search,m);g=d.ca(f.hash,g);f=f.pathname.split("/");e="";0<f.length&&(e=f.pop(),e=d.ah(e,p));for(p=0==f.length?b+e+m+g:b+f.join("/")+"/"+e+m+g;p.length>c;){if(0>=f.length)return a.error("M68"),null;f.pop();f.push("...");
p=0==f.length?b+e+m+g:b+f.join("/")+"/"+e+m+g;f.pop()}return p}})(a.utils||(a.utils={}))})(g||(g={}));(function(a){(function(a){var f=function(){function a(){}a.La=function(){for(var b=0;b<a.tb.length;b++)a.F[a.tb[b]]=a.w.Od;for(b=0;b<a.rb.length;b++)a.F[a.rb[b]]=a.w.Ld;a.F.js=a.w.Be;a.F.css=a.w.CSS;a.F.svg=a.w.De;a.F.html=a.w.sb;a.F.htm=a.w.sb};a.Ia=function(a){return a.duration?a.duration:a.responseEnd&&a.startTime?a.responseEnd-a.startTime:-1};a.nc=function(b){var e;return(b=b.pathname)&&-1!=(e=
b.lastIndexOf("."))?a.F[b.substring(e+1,b.length).toLowerCase()]||a.w.Bb:a.w.Bb};a.w={Od:"img",Be:"script",CSS:"css",De:"svg",sb:"html",Ld:"font",Bb:"other"};a.tb="bmp gif jpeg jpg png webp".split(" ");a.rb=["ttf","woff","otf","eot"];a.F={};return a}();a.X=f;f.La()})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(a){var f=function(){function a(b){function e(a){h.marks.push(0==b[a]?-1:Math.round(b[a]-h.Lc))}this.marks=[];var h=this;this.Lc=b.startTime;this.Yf(b)?(this.fc=a.ob,e("startTime"),
e("fetchStart")):(this.fc=a.Eb,e("startTime"),e("redirectStart"),e("redirectEnd"),e("fetchStart"),e("domainLookupStart"),e("domainLookupEnd"),e("connectStart"),e("connectEnd"),e("requestStart"),e("responseStart"));e("responseEnd")}a.Cf=function(){var b={};b[a.Eb]=a.Ae;b[a.ob]=a.Ed;return b};a.prototype.Yf=function(a){return this.C(a.redirectStart)&&this.C(a.redirectEnd)&&this.C(a.domainLookupStart)&&this.C(a.domainLookupEnd)&&this.C(a.connectStart)&&this.C(a.connectEnd)&&this.C(a.requestStart)&&this.C(a.responseStart)&&
this.C(a.secureConnectionStart)};a.prototype.C=function(a){return!a||0===a};a.Eb=1;a.ob=2;a.Ae="startTime redirectStart redirectEnd fetchStart dnsLookupStart dnsLookupEnd connectStart connectEnd requestStart responseStart responseEnd".split(" ");a.Ed=["startTime","fetchStart","responseEnd"];return a}();a.Db=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(a){var f=function(){function a(){}a.prototype.ta=function(a,e){if(a)return a.slice(0,e)};return a}();a.Md=f})(a.events||(a.events=
{}))})(g||(g={}));(function(a){(function(a){var f=function(){function c(){}c.prototype.ta=function(b,e){if(b){if(b.length<=e)return b;for(var c=[],f=0;f<b.length;f++)c.push({Va:b[f],index:f});c.sort(function(e,b){return-(a.X.Ia(e.Va)-a.X.Ia(b.Va))});c=c.slice(0,e);c.sort(function(a,e){return a.index-e.index});for(var m=[],f=0;f<c.length;f++)m.push(c[f].Va);return m}};return c}();a.Hb=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(a){var f=function(){function c(){}c.prototype.ta=
function(b,e){if(b){if(b.length<=e)return b;for(var c=1,f=Math.floor(Number.MAX_VALUE/4),m=b.length;c<f;){for(var g=b.length-1;0<=g;g--)if(a.X.Ia(b[g])<c&&(b.splice(g,1),m--),m<=e)return b;c*=4}return(new a.Hb).ta(b,e)}};return c}();a.ze=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(d){var f=function(){function b(e,h){this.version=2;this.resourceTimingInfo={};this.wc={};this.xc={};this.Tc={};this.Uc={};this.Wa=[];this.Ne=function(e,b){if(e&&b&&0<b.length){this.Yg=e;for(var h=new c,
f=new c,p=0;p<b.length;p++){var g=b[p],u=a.utils.parseURI(a.utils.p.I(g.name)),y=g.initiatorType,z=d.X.nc(u),v=new d.Db(g);this.Wa.push({u:this.eh(u),i:h.jc(this.xc,y),r:f.jc(this.Uc,z),f:v.fc,o:0===p&&g.isBase?1:Math.round(v.Lc),m:v.marks})}}};var f=b.zf();this.Xe(f,e);e=this.Hg(f,e);this.Ne(h||a.monitor.perfMonitor.navTiming&&a.monitor.perfMonitor.navTiming.navigationStart,e)}b.La=function(){var e=a.conf.userConf&&a.conf.userConf.resTiming&&a.conf.userConf.resTiming.sampler;b.Gg=e&&"FirstN"==e?
new d.Md:e&&"TopN"==e?new d.Hb:new d.ze};b.prototype.uc=function(a,b){a[b]=a[b]?a[b]+1:1};b.prototype.eh=function(e){return a.utils.dh(e,a.conf.ne,a.conf.qe,a.conf.le,a.conf.pe,a.conf.oe,a.conf.re,a.conf.me)};b.prototype.Xe=function(a,b){a&&this.vc(a);if(b&&0<b.length)for(var c=0;c<b.length;c++)this.vc(b[c])};b.prototype.vc=function(e){var b=a.utils.parseURI(a.utils.p.I(e.name)),b=d.X.nc(b);this.uc(this.wc,e.initiatorType);this.uc(this.Tc,b)};b.prototype.Hg=function(e,c){if(c&&0<c.length){var d=a.conf.userConf&&
a.conf.userConf.resTiming&&a.conf.userConf.resTiming.maxNum||a.conf.he;e&&d--;c=b.Gg.ta(c,d);e&&c.unshift(e)}return c};b.prototype.build=function(){return 0==this.Wa.length?null:{v:this.version,ic:this.wc,it:this.xc,rc:this.Tc,rt:this.Uc,f:d.Db.Cf(),t:this.Yg,r:this.Wa}};b.zf=function(){var e=a.monitor.perfMonitor.navTiming,b=null;if(e){var b={},c;for(c in e)e.hasOwnProperty(c)&&(b[c]=e[c]);b.initiatorType="other";b.name=document.URL;b.navigationStart&&!b.startTime&&(b.startTime=b.navigationStart);
b.isBase=!0}return b};return b}();d.ResourceTimingInfoBuilder=f;var c=function(){function a(){this.qg=1}a.prototype.jc=function(a,b){a[b]||(a[b]=this.qg++);return a[b]};return a}();f.La()})(a.events||(a.events={}))})(g||(g={}));(function(a){a=a.beacons||(a.beacons={});a.numBeaconsSent=0;a.beaconsSent=[]})(g||(g={}));(function(a){(function(d){var f=function(){function c(){}c.prototype.send=function(b,e){var c=(e?a.conf.beaconUrlHttps:a.conf.beaconUrlHttp)+a.conf.corsEndpointPath+"/"+a.conf.appKey+
"/adrum",f;a.utils.isDefined(a.xhrConstructor)&&a.utils.isDefined(a.xhrOpen)?(f=new a.xhrConstructor,a.xhrOpen.call(f,"POST",c)):(f=new XMLHttpRequest,f.open("POST",c));f.setRequestHeader("Content-type","text/plain");var g=a.utils.T(b);null!=g&&(f.send(g),a.log("M69"+c+"\n"),a.log("<hr/>"),a.isDebug&&d.beaconsSent.push(b),d.numBeaconsSent+=1)};return c}();d.Dd=f})(a.beacons||(a.beacons={}))})(g||(g={}));g||(g={});(function(a){var d=function(){function f(a,b,e){this.ma=a;this.Tf=b;this.eb=e}f.prototype.oc=
function(){try{return f.kc(this.Tf.ADRUM)}catch(c){return a.error("M70"),f.kc(a)}};f.kc=function(a){return a.correlation.getPageGUID()};return f}();a.Ad=d})(g||(g={}));(function(a){a.beacons||(a.beacons={})})(g||(g={}));(function(a){(function(a){var f=function(){function a(){this.count=0;this.P={}}a.prototype.Q=function(a){if(Object.prototype.hasOwnProperty.call(this.P,a))return this.P[a];this.P[a]=this.count;this.count++;return this.count-1};a.prototype.hc=function(){var a=[],e;for(e in this.P)Object.prototype.hasOwnProperty.call(this.P,
e)&&(a[this.P[e]]=e);return a};return a}();a.vb=f})(a.utils||(a.utils={}))})(g||(g={}));(function(a){(function(a){var f=function(){function a(){}a.Rg=function(a){a=a||"";var e=a.match(/([^:\/?#]+:\/\/)?([^?#]+)?(\?[^#]+)?(#.+)?/);return e&&e[0]==a?(a={},e[1]&&(a.protocol=e[1].substring(0,e[1].length-3)),e[2]&&(a.path=e[2]),e[3]&&(a.Rc=e[3].substring(1)),e[4]&&(a.anchor=e[4].substring(1)),a):null};a.of=function(b,e){var h=a.Rg(b);if(null!=h){var f="";h.protocol&&(f+=e.Q(h.protocol),f+="://");if(h.path)for(var d=
h.path.split("/"),g=d.length,q=0;q<g;q++){var l=d[q];0<l.length&&(f+=e.Q(l));q!=g-1&&(f+="/")}h.Rc&&(f=f+"?"+e.Q(h.Rc));h.anchor&&(f+="#",f+=e.Q(h.anchor));return f}return""+e.Q(b)};a.mf=function(a,e){return""+e.Q(a)};return a}();a.nb=f})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){(function(d){(function(f){function c(){var b=null,c=null;try{b=localStorage[e]}catch(f){}if(b)try{b=c=JSON.parse(b),a.utils.isObject(b)&&a.utils.isNumber(b[g])&&-1<b[g]?k=c:a.error("M71")}catch(h){a.exception(h,
"M72");try{delete localStorage[e]}catch(d){a.exception(d,"M73")}}}function b(){try{var b=a.channel,c=k[h]||k[d],f=b&&b.J&&b.J.G&&b.J.G.id||(a.utils.isString(c)?c:a.utils.generateGUID());k[h]=k[d]=f;localStorage[e]=a.utils.T(k)}catch(g){}}var e="ADRUM_CLIENTINFO",h="agentId",d="clientId",g="seqId",k;c();k||(k={seqId:0});b();f.Bf=function(){c();var a=k[g]++;b();return a}})(d.Vb||(d.Vb={}))})(a.ad||(a.ad={}))})(g||(g={}));(function(a){a=a.V||(a.V={});a.S||(a.S={})})(g||(g={}));(function(a){a=a.V||(a.V=
{});a.S||(a.S={})})(g||(g={}));(function(a){(function(d){(function(f){var c=function(){function b(e,b,c){this.Eg=0;this.Ua=[];this.tc=!1;this.Nf=c;var f=this;a.utils.addEventListener(window,"message",function(a){f.zg(a)});this.Mf=a.utils.cf(b,e)}b.prototype.zg=function(e){var b;try{if(b=JSON.parse(e.data),!0===b.success)if(-1===b.id&&"iframe-ready"===b.data)this.tc=!0,this.Nf();else{if(this.Ua[b.id])this.Ua[b.id](b.data)}else a.error("M74"+e.data+"]")}catch(c){a.exception(c,"M75")}};b.prototype.send=
function(e,b,c,f){if(this.tc){var d=this.Eg++;this.Ua[d]=f;this.Mf.contentWindow.postMessage(a.utils.T({id:d,action:e,key:b,value:c}),"*")}};b.prototype.generateGUID=function(a,b){this.send("generateGUID",a,null,b)};return b}();f.Fd=c})(d.S||(d.S={}))})(a.V||(a.V={}))})(g||(g={}));(function(a){(function(d){var f=function(){function e(){this.Ob=new c(e.wd);this.td=new c(e.zd);this.lh=new b(e.yd)}e.prototype.init=function(b){this.channel=b;a.utils.Vg()&&a.utils.Ug()?a.utils.Wg()&&e.jg()?this.fh():this.nd():
e.Kc=!0};e.prototype.nd=function(){var b=this.Ob.load();e.hg(b)||(b={ver:a.conf.agentVer,id:a.utils.generateGUID()},this.Ob.save(b));e.G=b};e.prototype.fh=function(){var b=this.td.load();if(e.ig(b))e.G=b;else{a.log("M76");var c=this;this.lh.load(function(b){b&&(b={ver:a.conf.agentVer,id:b,ttl:(new Date).getTime()+e.Hd},c.td.save(b),e.G=b,a.log("M77"))});c=this;a.utils.tryPeriodically(e.Ca,function(){return c.isReady()},function(){c.onReady()},function(){c.Pa()})}};e.jg=function(){return a.conf.userConf&&
a.conf.userConf.xd&&a.conf.userConf.xd.enable};e.hg=function(a){return a&&a.id&&0<a.id.length};e.ig=function(a){return a&&a.id&&0<a.id.length&&0===a.id.indexOf("XD_")&&a.ttl>(new Date).getTime()};e.prototype.isReady=function(){return e.Kc||a.utils.isDefined(e.G)};e.prototype.onReady=function(){this.channel.onResolverReady()};e.prototype.Pa=function(){a.log("M78");this.nd();this.channel.onResolverReady()};e.Ca=function(a){return 10<a?-1:[1,50,100,500][a-1]||1E3};e.wd="ADRUM_AGENT_INFO";e.zd="ADRUM_XD_AGENT_INFO";
e.yd="ADRUM_XD_AGENT_ID";e.Hd=6048E5;e.Kc=!1;return e}();d.J=f;var c=function(){function b(a){this.Nb=a}b.prototype.load=function(){var b=null;try{var e=localStorage.getItem(this.Nb);e&&(b=JSON.parse(e))}catch(c){a.exception(c,"M79")}return b};b.prototype.save=function(b){try{var e=a.utils.T(b);e&&localStorage.setItem(this.Nb,e)}catch(c){a.exception(c,"M80")}};return b}(),b=function(){function b(a){this.Qe=a}b.prototype.load=function(b){var e=this;try{var c=new a.V.S.Fd("cross-domain-store-server-iframe",
a.conf.adrumXdUrl,function(){c.generateGUID(e.Qe,b)})}catch(f){a.exception(f,"M81")}};return b}()})(a.channel||(a.channel={}))})(g||(g={}));(function(a){(function(d){var f=function(){function c(){}c.prototype.Na=function(b,e,f){b={ver:a.conf.agentVer,dataType:"R",rootGUID:f.oc(),events:b};a.channel.J.G&&a.channel.J.G.id&&(b.agentId=a.channel.J.G.id);e&&(b.geo=e);return c.Cg(b)};c.Cg=function(b){a.isDebug||(b=c.$e(b));return b};c.$e=function(b){var e=new a.utils.vb,f=new a.utils.vb;b=a.utils.Ka(null,
b,function(a){return c.Ja(a)},function(b,g){"string"==typeof g&&g.length>a.conf.yb&&(g=g.substr(0,a.conf.yb));c.gg(b)&&(a.utils.isString(g)&&g.length>a.conf.K&&(g=3<a.conf.K?g.substr(0,a.conf.K-3):"",g+="..."),g=d.nb.of(g,e));c.Zf(b)&&(g=d.nb.mf(g,f));return g});b[c.Ja("guids")]=f.hc();b[c.Ja("urlParts")]=e.hc();return b};c.gg=function(a){return"eventUrl"==a||"parentUrl"==a||"pageReferrer"==a||"pageUrl"==a||"u"==a};c.Zf=function(a){return"eventGUID"==a||"parentGUID"==a||"rootGUID"==a||"clientRequestGUID"==
a};c.Ja=function(b){if(a.conf.md)return b;var e=a.conf.Gc[b];return"undefined"===typeof e?b:e};return c}();d.Cd=f})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){(function(d){var f=function(){function c(){}c.prototype.send=function(a,e){for(var c=0;c<a.length;c++)this.Kg(a[c],e)};c.prototype.Kg=function(b,e){var c=(e?a.conf.beaconUrlHttps:a.conf.beaconUrlHttp)+a.conf.imageEndpointPath,f=new Image;try{f.src=c+b}catch(g){}a.isDebug&&d.beaconsSent.push(b);d.numBeaconsSent+=1};return c}();d.Td=
f})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){a.events||(a.events={})})(g||(g={}));(function(a){(function(d){var f=function(){function c(){}c.prototype.make=function(b){var e={eventGUID:b.guid(),eventType:b.type(),eventUrl:a.utils.p.I(b.url()||document.URL),timestamp:(new Date).getTime()};b.type()!==a.EventType.BASE_PAGE&&a.utils.mergeJSON(e,{parentGUID:b.parentGUID()||a.correlation.getPageGUID(),parentUrl:a.utils.p.I(b.parentUrl()||document.URL),parentType:b.parentType()||(a.utils.compareWindows(top,
window)?a.EventType.BASE_PAGE:a.EventType.IFRAME)});b=a.EventType[b.type()];b=d.Ge.Kf(b,a.conf.userConf,a.conf.te);for(var c in b)e[c]=b[c];return e};return c}();d.da=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(d){var f=function(){function c(){}c.xg=function(b,e){var c=!1;if(null!=b&&a.utils.isObject(b)){var f=a.utils.T(b);if(null==f||f.length<=e)c=!0}c||(a.log("User event info dropped because they are malformed or too long"),"undefined"!==typeof console&&"undefined"!==typeof console.log&&
console.log("User event info dropped because they are malformed or too long"));return c};c.Kf=function(b,e,f){var d={};return(b=e&&e.userEventInfo&&e.userEventInfo[b])?(d=a.utils.isFunction(b)?b.call(null,d):b,c.xg(d,f)?d:{}):{}};return c}();d.Ge=f})(a.events||(a.events={}))})(g||(g={}));var s=this.Le||function(a,d){function f(){this.constructor=a}for(var c in d)d.hasOwnProperty(c)&&(a[c]=d[c]);f.prototype=d.prototype;a.prototype=new f};(function(a){(function(d){var f=function(c){function b(){c.apply(this,
arguments)}s(b,c);b.setPageName=function(a){b.hh=a};b.addUserData=function(a,c){b.gb=b.gb||{};b.gb[a]=c};b.prototype.make=function(e){e=c.prototype.make.call(this,e||new d.PageView);var f=this.Ff(),g=this.Af();a.conf.viz&&(f&&a.utils.Ga(document.getElementById(a.conf.viz),f,"navtime"),a.utils.Ga(document.getElementById(a.conf.viz),g,"cookie"));g.PLC=1;f&&(f.PLC=1);0<a.monitor.ErrorMonitor.errorsSent&&(g.EPM=1,f&&(f.EPM=1));a.utils.mergeJSON(e,{eventGUID:a.correlation.getPageGUID(),eventType:a.utils.compareWindows(top,
window)?a.EventType.BASE_PAGE:a.EventType.IFRAME,cookieMetrics:g});var m=-1;f&&f.timestamp?m=f.timestamp:g&&g.timestamp&&(m=g.timestamp);0<m&&a.utils.mergeJSON(e,{timestamp:m});f&&(e.metrics=f);document.referrer&&null!==document.referrer&&0<document.referrer.length&&(e.pageReferrer=a.utils.p.I(document.referrer));f=b.Gf();0<f.length&&(e.pageTitle=f);f=a.correlation.pc();null!==f&&(e.serverMetadata=f);f=a.monitor.perfMonitor.resTiming?(new d.ResourceTimingInfoBuilder(a.monitor.perfMonitor.resTiming)).build():
null;null!==f&&(e.resourceTimingInfo=f);a.utils.isDefined(e.userData)||(e.userData=b.gb);a.utils.isDefined(e.userPageName)||(e.userPageName=b.hh);b.userPageName=e.userPageName;return e};b.prototype.Ff=function(){if(!a.monitor.perfMonitor.navTiming)return null;var e={},c=b.lc(a.monitor.perfMonitor.navTiming,e,"NT"),f=d.D[a.EventType.BASE_PAGE],g;for(g in f){var k=f[g];c.add(k.name,k.start,k.end)}e.timestamp=a.monitor.perfMonitor.navTiming.navigationStart;return e};b.prototype.Af=function(){var e={};
a.commands.marks&&(b.lc(a.commands.marks,e,"CK").add("PLT","starttime","onload").add("FBT","starttime","firstbyte").add("FET","firstbyte","onload").add("DRT","firstbyte","onready").add("PRT","onready","onload").add("DOM","starttime","onready"),e.timestamp=a.commands.marks.starttime?a.commands.marks.starttime:a.commands.marks.firstbyte);return e};b.Gf=function(){var b=a.conf.userConf,b=b&&b.page,c;c=b&&"captureTitle"in b?b.captureTitle:!0;var f,d;b&&(f="title"in b,d=b.title);f=c?f?a.utils.isFunction(d)?
d():d:document.title:"";if(a.utils.isString(f))return f;f="Ignoring wrong type of page title: "+typeof f;a.log(f);console&&console.log&&console.log(f);return""};b.Me=function(b,c,f,d,g,q){c=d[c];f=d[f];c&&f?g[b]=f-c:a.log("M82",q,b,c,f)};b.lc=function(a,c,f){var d={add:function(g,q,l){b.Me(g,q,l,a,c,f);return d}};return d};return b}(d.da);d.L=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(d){(function(f){function c(f,d){var h,v=d[f],k=typeof v;r.push(f);var l=n[r.join(".")];if(a.utils.isFunction(l))h=
l(v);else switch(k){case "string":h="number"==typeof l?q(v,e,l):e(v);break;case "number":h=m(v);break;case "object":if(v)if(a.utils.isArray(v))h=g(v,!1,!1);else{h=[];for(var t in v)Object.prototype.hasOwnProperty.call(v,t)&&(k=c(t,v))&&(b(f)&&"timestamp"==t||h.push({oa:t,v:k}));if(b(f)){for(v=0;v<h.length;v++)h[v]=h[v].oa+e(":")+h[v].v;h=e("{")+h.join(e(","))+e("}")}else{for(v=0;v<h.length;v++)t=h[v],k=t.oa,a.conf.md||((l=a.conf.Gc[t.oa])?k=l:a.error("M83",t.oa)),h[v]=k+"="+t.v;h=h.join("&")}}else h=
null}r.pop();return h}function b(a){return"navOrXhrMetrics"==a||"cookieMetrics"==a}function e(a){return"undefined"===typeof a||null===a||0===a.length?null:encodeURIComponent(a)}function d(a){return encodeURIComponent(encodeURIComponent(a))}function g(a,b,f){void 0===b&&(b=!1);void 0===f&&(f=!0);if(0===a.length)return null;var d=[];if(b)d=a;else for(b=0;b<a.length;b++)d.push(c(b,a));return e("[")+d.join(e(","))+e(f?">":"]")}function m(a){a=Math.round(a);a<f.Ab&&(a=f.Ab);a>f.xb&&(a=f.xb);return e(a)}
function k(a,b){if(a>b||0>a)a=f.we;return e(a)}function q(b,e,c,f){void 0===f&&(f=!0);if("undefined"===typeof b||null===b||0===b.length)return null;var d=3<=c?"...":"";a.assert(c>=d.length);for(var g=!1,h=null;;){try{h=e(b);if(null===h)return null;if(h.length<=c)break}catch(p){}var m;g?m=b.length-1:(g=!0,m=c-=d.length);var k=f?0:Math.max(b.length-m,0);b=b.substr(k,m)}g&&(h=f?h+d:d+h);return h}function l(b,e,c){if(0==c)return f.ya;if(e<b)return 0;e=f.ya+(e-b)/c;a.assert(e>=f.ya);a.log("M84",b,e);return e}
f.we=-1;f.K=180;f.je=50;f.ke=50;f.ee=40;f.ya=50;f.Ud=50;f.zb=128;f.$d=30;f.ae=30;f.Zd=30;f.fe=8;f.Ab=-99999;f.xb=999999;f.Vd=2E3;f.ie=2;f.Wd=99999999;var n={".pageUrl":f.K,".parentPageUrl":f.K,".pageReferrer":f.K,".pageTitle":f.je,".userPageName":f.ke,".geoCountry":f.$d,".geoRegion":f.ae,".geoCity":f.Zd,".localIP":f.fe,".otherClientRequestGUIDs":function(a){a=a||[];var b=a.slice(0,f.ie);return g(b,!1,b.length<a.length)},".btTime":function(b){b=b||[];for(var e=b.slice(0,a.conf.Xd),c=[],d=0;d<e.length;d++){var h=
e[d];c.push(g([k(Number(h[0]),f.Wd),m(h[1]),m(h[2])],!0,!1))}return g(c,!0,e.length<b.length)},".ajaxError":function(a){return g([d(a[0]),q(a[1],d,f.Ud)],!0,!1)},".userData":function(a){a=a||[];for(var b=!1,e=0,c=[],m=0;m<a.length;m++){var k=a[m];c[m]=g([d(k[0]),d(k[1])],!0,!1);e+=c[m].length;if(e>f.zb){b=!0;break}}for(;;){a=g(c,!0,b);if(null===a||a.length<=f.zb)return a;c.pop();b=!0}}},r=[];f.lf=function(b,e){void 0===e&&(e=!0);r=[];var k=[];b.errors&&(k=b.errors,b.errors=null);var n=c("",{"":b});
if(k&&0<k.length){for(var s=l(e?870:354,f.Vd-n.length,k.length),x=[],t=0;t<k.length;t++){var w=k[t],A=a.utils.p.dc(a.utils.p.I(w[0]));x.push(g([q(A,d,f.ee,!1),m(w[1]),q(w[2],d,s)],!0,!1))}k=g(x,!0,!1);n+="&errors="+k}return n};f.Eh=c;f.Yh=e;f.element=d;f.yh=g;f.Ah=m;f.Qh=k;f.truncate=q;f.Vh=l})(d.ub||(d.ub={}))})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){(function(d){var f=function(){function c(){}c.prototype.Na=function(b,e,f){for(var g=[],m=[],k=null,q=[],l=0;l<b.length;l++){var n=b[l];
if(n.eventType===a.EventType.PAGE_ERROR){var r=n;m.push([n.eventUrl,r.line,r.message])}else{if(n.eventType===a.EventType.BASE_PAGE||n.eventType===a.EventType.IFRAME)k=n;q.push(n)}}b=q;if(0<m.length)for(k&&(k.errors=m.splice(0,a.conf.ce));0<m.length;)n=m.splice(0,a.conf.be),k=c.Ag.make(),k.errors=n,k.isErrorEvent=!0,k.cookieMetrics=null,k.metrics=null,k.resourceTimingInfo=null,b.push(k);for(m=0;m<b.length;m++)n=b[m],a.log("M85"),n.resourceTimingInfo=null,c.wf(n,e,f),k=c.transform(n),g.push(d.ub.lf(k,
n.isErrorEvent));return g};c.wf=function(b,e,c){b.ver=this.Pd;b.rootGUID=c.oc();b.geo=e;b.dataType="R";b.eom=1;b.eumAppKey=a.conf.appKey;b.PLC=1};c.transform=function(a){var e={};c.qd("",{"":a},e);return e};c.qd=function(b,e,f){e=e[b];var d=c.Dc[b];if("metrics"===b||"cookieMetrics"===b)f[d]=e;else if("btTime"===b&&a.utils.isArray(e)&&0<e.length){b=[];for(var g=0;g<e.length;g++)b.push([e[g].id,e[g].duration,e[g].ert]);f[d]=b}else if("userData"===b&&a.utils.isObject(e))f[d]=a.utils.mg(e);else if(a.utils.isObject(e))for(g in e)Object.prototype.hasOwnProperty.call(e,
g)&&c.qd(g,e,f);else c.Dc[b]&&("eventType"===b&&e>a.EventType.XHR&&(e=a.utils.compareWindows(top,window)?a.EventType.BASE_PAGE:a.EventType.IFRAME),f[d]=e)};c.Ag=new a.events.L;c.Pd=3;c.Dc={eumAppKey:"eumAppKey",userPageName:"userPageName",rootGUID:"baseGUID",parentGUID:"parentGUID",parentUrl:"parentPageUrl",parentType:"parentPageType",parentLifecyclePhase:"parentLifecyclePhase",eventType:"pageType",eventUrl:"pageUrl",pageReferrer:"pageReferrer",pageTitle:"pageTitle",metrics:"navOrXhrMetrics",xhrMetrics:"navOrXhrMetrics",
resourceTimingInfo:"resourceTimingInfo",cookieMetrics:"cookieMetrics",userData:"userData",errors:"errors",ajaxError:"ajaxError",dataType:"dataType",country:"geoCountry",region:"geoRegion",city:"geoCity",localIP:"localIP",ver:"ver",eom:"eom",eventGUID:"clientRequestGUID",otherClientRequestGUIDs:"otherClientRequestGUIDs",btTime:"btTime",serverSnapshotType:"serverSnapshotType",hasEntryPointErrors:"hasEntryPointErrors"};return c}();d.Sd=f})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){(function(a){var f=
function(){function a(){}a.prototype.send=function(){};return a}();a.Kd=f})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){(function(a){var f=function(){function a(){}a.prototype.Na=function(){return null};return a}();a.Jd=f})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){var d=function(){function f(){}f.Xb=function(c,b){if(!c)return null;var e=c.ADRUM.lifecycle;if(!e||!e.getPhaseCallbackTime)return null;var f=b.getPhaseCallbackTime("AT_ONLOAD"),e=e.getPhaseCallbackTime("AT_ONLOAD"),
d=null==e;return null==f?(a.error("M86"),null):a.lifecycle.getPhaseID(d||f<=e?"AFTER_FIRST_BYTE":"AFTER_ONLOAD")};return f}();a.ye=d;a.cPLPI=d.Xb})(g||(g={}));(function(a){(function(d){var f=function(){function c(b){this.ready=!1;this.geoResolverUrl=b;a.utils.isString(b)&&0<a.utils.trim(b).length&&(this.geoResolverUrl=b+"/resolve.js")}c.prototype.init=function(b){this.channel=b;if(this.Ea()&&(a.geo=this.cb(),this.Re()||this.qa()&&!this.gc())){this.channel.Ya(a.geo.result);return}this.gc()?(this.qa()&&
(this.geoResolverUrl+="?ip="+encodeURIComponent(a.conf.userConf.geo.localIP)),this.gh()):(this.ready=!0,this.channel.onResolverReady())};c.prototype.Ea=function(){return a.utils.isDefined(a.conf.userConf)&&a.utils.isDefined(a.conf.userConf.geo)};c.prototype.qa=function(){return this.Ea()&&a.utils.isDefined(a.conf.userConf.geo.localIP)&&!a.utils.isDefined(a.conf.userConf.geo.city)&&!a.utils.isDefined(a.conf.userConf.geo.region)&&!a.utils.isDefined(a.conf.userConf.geo.country)};c.prototype.cb=function(){return{failed:!1,
result:{country:a.conf.userConf.geo.country,region:a.conf.userConf.geo.region,city:a.conf.userConf.geo.city,localIP:this.nf(a.conf.userConf.geo.localIP)}}};c.prototype.Re=function(){return this.Ea()&&a.utils.isDefined(a.conf.userConf.geo.localIP)&&a.utils.isDefined(a.conf.userConf.geo.city)&&a.utils.isDefined(a.conf.userConf.geo.region)&&a.utils.isDefined(a.conf.userConf.geo.country)};c.prototype.gc=function(){return a.utils.isString(this.geoResolverUrl)&&0<a.utils.trim(this.geoResolverUrl).length};
c.prototype.nf=function(a){if(null==a||0==a.length)return null;a=a.split(".");if(4!=a.length)return null;for(var e=[],c=0;c<a.length;c++){var f=parseInt(a[c]);if(isNaN(f)||0>f||255<f)return null;e.push(("0"+f.toString(16)).slice(-2))}return e.join("")};c.prototype.gh=function(){a.geo={failed:!1,result:null};a.utils.loadScriptAsync(this.geoResolverUrl);var b=this;a.utils.tryPeriodically(c.Ca,function(){return b.isReady()},function(){b.onReady()},function(){b.Pa()})};c.prototype.isReady=function(){this.ready||
(this.ready=a.geo&&(a.geo.failed||null!==a.geo.result))||a.log("M87");return this.ready};c.prototype.onReady=function(){a.geo.failed?(a.log("M88"),this.qa()&&(a.geo=this.cb())):(a.assert("object"===typeof a.geo.result),a.log("M89",a.geo.result));a.geo&&a.geo.result&&this.channel.Ya(a.geo.result);this.channel.onResolverReady()};c.prototype.Pa=function(){a.log("M90");this.qa()&&(a.geo=this.cb());a.geo&&a.geo.result&&this.channel.Ya(a.geo.result);this.ready=!0;this.channel.onResolverReady()};c.Ca=function(a){return 10<
a?-1:[1,50,100,500][a-1]||1E3};return c}();d.Nd=f})(a.channel||(a.channel={}))})(g||(g={}));(function(a){(function(d){var f=function(){function c(){this.ready=!1;this.channel=null}c.prototype.init=function(b){this.channel=b;c.s=c.s||c.yf();this.ready=!c.s.ma;var e=this;if(c.s.ma)a.log("M91"),c.s.ma.ADRUM.command("listenForOkToSendChildFrameBeacons",function(){a.log("M92");e.ready=!0;e.onReady()});else e.onReady()};c.prototype.isReady=function(){this.isReady||a.log("M93");return this.ready};c.prototype.onReady=
function(){this.channel.Lg(c.s);this.channel.onResolverReady()};c.yf=function(){for(var b=window,e,f=c.Ac(b),d=window;!a.utils.compareWindows(d,d.parent);){d=d.parent;f=f||c.Ac(d);try{d.ADRUM&&(e=e||d,b=d)}catch(g){}}return new a.Ad(e,b,f)};c.Ac=function(a){try{return 0==a.document.URL.indexOf("https:")}catch(e){}};c.s=null;return c}();d.Bd=f})(a.channel||(a.channel={}))})(g||(g={}));(function(a){(function(d){var f=function(){function b(b,c,f){this.events=[];this.M={};this.la=NaN;this.H=[];this.Ha=
!1;this.bufferMode=a.conf.userConf&&a.conf.userConf.channel&&"undefined"!==typeof a.conf.userConf.channel.bufferMode?a.conf.userConf.channel.bufferMode:!0;this.ua=-1;this.Zg=b;this.Se=c;this.H.push(new d.Nd(f));this.H.push(new d.Bd);this.H.push(new d.J)}b.create=function(){var e,c;b.Xf()&&!b.$f()?(e=new a.beacons.Dd,c=new a.beacons.Cd):b.bg()?(e=new a.beacons.Kd,c=new a.beacons.Jd):(e=new a.beacons.Td,c=new a.beacons.Sd);e=new b(e,c,a.conf.geoResolverUrl);e.init();return e};b.prototype.init=function(){for(var a=
0;a<this.H.length;a++)this.H[a].init(this)};b.prototype.kh=function(b){return(b.parentType===a.EventType.VIRTUAL_PAGE||b.parentType===a.EventType.NG_VIRTUAL_PAGE)&&null!==this.M[b.parentGUID]};b.prototype.Dg=function(b){var c=b.parentGUID;if(!a.utils.isDefined(this.M[c])){this.M[c]=[];var f=this,d=b.eventGUID;setTimeout(function(){f.Fa(d)},1E4)}this.M[c].push(b)};b.prototype.report=function(e){e.sequenceId=a.ad.Vb.Bf();e.timestamp=e.timestamp||a.utils.now();this.kh(e)?this.Dg(e):this.events.push(e);
1==this.events.length&&(this.la=a.utils.now());var c=e.parentGUID;c&&c!==a.correlation.getPageGUID()||this.Fa(e.eventGUID);b.ag(e)&&(this.Ha=!0);this.ab()};b.prototype.Fa=function(a){var b=this.M[a];this.M[a]=null;if(b&&0!=b.length)for(this.events=this.events.concat(b),a=0;a<b.length;a++)this.Fa(b[a].eventGUID)};b.prototype.cg=function(b){return b.eventType===a.EventType.BASE_PAGE||b.eventType===a.EventType.IFRAME};b.prototype.Te=function(){for(var b=0;b<this.events.length;b++){var c=this.events[b];
if(this.cg(c)){var f=this.s.ma;f&&(c.parentLifecyclePhase=a.ye.Xb(f,a.lifecycle),c.parentGUID=f.ADRUM.correlation.getPageGUID(),c.parentUrl=a.utils.p.I(f.document.URL),a.utils.isDefined(f.ADRUM.events.L.userPageName)&&(c.parentPageName=f.ADRUM.events.L.userPageName),c.parentType=a.utils.compareWindows(top,f)?a.EventType.BASE_PAGE:a.EventType.IFRAME)}}};b.prototype.Jg=function(){if(0==this.events.length)a.log("M94");else{this.Te();var b=this.eb(this.events,this.s),c=this.Se.Na(this.events,this.xf,
this.s);this.Zg.send(c,b);this.events=[];this.la=Number.POSITIVE_INFINITY}};b.prototype.onResolverReady=function(){this.ab()};b.prototype.Ya=function(a){this.xf=a};b.prototype.Lg=function(a){this.s=a};b.prototype.addResolver=function(a){a.init(this);this.H.push(a)};b.prototype.Fg=function(){for(var a=0;a<this.H.length;a++)if(!this.H[a].isReady())return!1;return!0};b.prototype.Cc=function(){return this.la+a.conf.wb>a.utils.now()};b.prototype.eg=function(){return this.events.length<a.conf.Yd};b.prototype.eb=
function(a,b){if(b.eb)return!0;for(var c=0;c<a.length;c++){var f=a[c];if(f.eventUrl&&0==f.eventUrl.indexOf("https:"))return!0}};b.prototype.getEventsWithParentGUID=function(a){return this.M[a]||[]};b.prototype.ab=function(){if(this.Fg())if(this.jh()){if(this.Cc()&&0<this.events.length&&0>this.ua){var b=this;this.ua=setTimeout(function(){b.ab()},a.conf.wb+this.la-a.utils.now())}}else clearTimeout(this.ua),this.ua=-1,this.Ha=!1,this.Jg()};b.ag=function(b){return b.eventType===a.EventType.BASE_PAGE||
b.eventType===a.EventType.IFRAME||b.eventType===a.EventType.VIRTUAL_PAGE};b.prototype.jh=function(){return this.bufferMode&&!this.Ha&&this.eg()&&this.Cc()};b.Xf=function(){var a="undefined"!==typeof JSON&&!(!JSON||!JSON.stringify);return window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&a};b.$f=function(){return"true"===a.conf.sendImageBeacon||!0===window["adrum-send-image-beacon"]};b.bg=function(){return a.conf.userConf&&a.conf.userConf.beacon&&a.conf.userConf.beacon.neverSendImageBeacon};
return b}();d.Channel=f;var c=f.create();d.report=function(a){c.report(a)};d.addResolver=function(a){c.addResolver(a)};d.getEventsWithParentGUID=function(a){return c.getEventsWithParentGUID(a)}})(a.channel||(a.channel={}))})(g||(g={}));(function(a){var d=function(){function f(){}f.Pc=function(){return window.attachEvent?window.addEventListener?this.fb:this.jd:this.ld};f.Oc=function(c){var b=null;switch(f.Pc()){case f.ld:b=c.parentPhase();break;case f.fb:b=a.lifecycle.findPhaseAtNominalTime(c.getSendTime());
break;case f.jd:b=null}return a.lifecycle.getPhaseID(b)};f.ld="uCT";f.fb="uNET";f.jd="tIA";return f}();a.ia=d})(g||(g={}));(function(a){(function(d){var f=function(c){function b(){c.apply(this,arguments)}s(b,c);b.prototype.make=function(e){var f=c.prototype.make.call(this,e),g=e.url(),m=e.getSendTime(),k=e.getFirstByteTime(),q=e.getRespAvailTime(),l=e.getRespProcTime();a.assert(null!==g&&null!==m&&null!==k&&null!==q&&null!==l,"missing some pieces of XHR data: url="+g+", send="+m+", fbt="+k+", rat="+
q+", eut="+l+", parentPhase="+e.parentPhase());if(null===g||null===m||null===k||null===q||null===l)return null;g=e.error();m={PLC:1,FBT:k-m,DDT:q-k,DPT:l-q,PLT:l-m,ARE:g?1:0};k=a.utils.getFullyQualifiedUrl(e.url());if(!b.kg(m,k))return null;a.conf.viz&&a.utils.Ga(document.getElementById(a.conf.viz),m,"xhr");a.utils.mergeJSON(f,{eventUrl:a.utils.p.I(k),parentType:e.parentType()||a.EventType.BASE_PAGE,parentLifecyclePhase:e.parentPhaseId(),metrics:m,method:e.method(),timestamp:e.timestamp(),ajaxError:g&&
[g.status,g.msg||""]});a.utils.Mg(f,d.L.userPageName);return f};b.kg=function(b,c){for(var f in b)if(b.hasOwnProperty(f)){var d=b[f];if(0>d)return a.error("XHR "+f+" ["+d+"] "+c),!1}return!0};return b}(d.da);d.Jb=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(d){var f=function(c){function b(){c.apply(this,arguments)}s(b,c);b.prototype.make=function(b){var f=c.prototype.make.call(this,b);f&&(b=b.xhr().getAllResponseHeaders(),(b=a.correlation.If(b))&&null!==b&&null!==b.clientRequestGUID&&
(f.eventGUID=b.clientRequestGUID),null!==b&&(f.serverMetadata=b));return f};return b}(d.Jb);d.vd=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(d){var f=function(c){function b(){c.apply(this,arguments)}s(b,c);b.prototype.make=function(b){var f=c.prototype.make.call(this,b);a.utils.mergeJSON(f,{message:b.msg()||"",timestamp:b.timestamp(),line:b.line(),stack:b.stack()});return f};return b}(d.da);d.xe=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(a){(function(f){f.build=
function(c){var b={},e=a.D[c.type()],f;for(f in e){var g=e[f];if(null!==g.name&&c.g.B(g.start)&&c.g.B(g.end)){c.g.pa(g.name,g.start,g.end);var m=c.g.B(g.name);b[g.name]=m&&0<=m.duration&&m.duration||null}}for(f in b)b[f]=Math.round(b[f]);return b}})(a.Gb||(a.Gb={}))})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(a){var f=function(c){function b(){c.apply(this,arguments)}s(b,c);b.prototype.make=function(b){var f=c.prototype.make.call(this,b),g=a.Gb.build(b);g.PLC=1;f.metrics=g;f.timestamp=
b.timestamp();b=(new a.ResourceTimingInfoBuilder(b.resTiming())).build();null!==b&&(f.resourceTimingInfo=b);return f};return b}(a.da);a.Ib=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(a){var f=function(a){function b(){a.apply(this,arguments)}s(b,a);b.prototype.make=function(b){var f=a.prototype.make.call(this,b);f&&(f.metrics.VDC=b.digestCount()||0);return f};return b}(a.Ib);a.ve=f})(a.events||(a.events={}))})(g||(g={}));(function(a){var d=a.events||(a.events={});d.Sa={};a=[{U:d.PageView,
R:new d.L},{U:d.Ajax,R:new d.Jb},{U:d.AdrumAjax,R:new d.vd},{U:d.Error,R:new d.xe},{U:d.VPageView,R:new d.Ib},{U:a.ng.NgVPageView,R:new d.ve}];for(var f=0;f<a.length;f++){var c=a[f];c.U.prototype._regId=f;d.Sa[f]=c.R}})(g||(g={}));(function(a){(function(d){d.reportEvent=function(f){var c=!!a.events.Sa[f._regId];c||a.log("M96"+a.EventType[a.eventType]);c&&(c=a.events.Sa[f._regId].make(f),a.utils.isDefined(c)&&(a.log("M95",a.EventType[f.type()]),a.channel.report(c)))}})(a.reporter||(a.reporter={}))})(g||
(g={}));(function(a){(function(d){var f=function(){function c(){this.ready=!1}c.prototype.onReady=function(a){this.ready=a;this.channel.onResolverReady()};c.prototype.isReady=function(){this.ready||a.log("M97");return this.ready};c.prototype.init=function(a){this.channel=a};return c}();d.Ke=f})(a.commands||(a.commands={}))})(g||(g={}));(function(a){(function(d){var f=new d.Ke;a.channel.addResolver(f);d.marks={};d.mark=function(c,b){a.log("M98",c,b);d.marks[c]=b};d.reportOnload=function(c){setTimeout(function(){a.log("M99");
f.onReady(!0);a.reporter.reportEvent(c)},a.conf.Ie)};d.reportEvent=function(){a.reporter.reportEvent.apply(a.reporter,arguments)};d.addResolver=function(c){a.channel.addResolver(c)};d.reportXhr=function(c){a.log("M100");a.ia.Pc()==a.ia.fb?(a.log("M101"),setTimeout(function(){c.parentPhaseId(a.ia.Oc(c));a.reporter.reportEvent(c)},0)):(c.parentPhaseId(a.ia.Oc(c)),a.reporter.reportEvent(c))};d.listenForOkToSendChildFrameBeacons=function(c){a.log("M102");try{c()}catch(b){a.exception(b,"M103")}};d.reportPageError=
function(c){var b=c.url();a.log("M104",c.msg(),b,c.line(),c.stack());b&&0!==b.length||c.url("CROSSORIGIN");a.reporter.reportEvent(c)};d.setPageName=function(c){a.events.L.setPageName(c)};d.addUserData=function(c,b){a.events.L.addUserData(c,b)};d.call=function(a){a()}})(a.commands||(a.commands={}))})(g||(g={}));(function(a){(function(a){a.bc=function(f){return encodeURIComponent(a.p.wg(f))}})(a.utils||(a.utils={}))})(g||(g={}));(function(a){(function(d){var f=function(){function c(){}c.prototype.setUp=
function(){this.og();a.utils.addEventListener(window,"pagehide",c.kb);a.utils.addEventListener(window,"beforeunload",c.kb);a.utils.addEventListener(window,"unload",c.kb)};c.prototype.og=function(){(this.startTime=c.uf()||c.tf())&&a.commands.mark("starttime",this.startTime)};c.uf=function(){var b;try{if(a.utils.isDefined(window.external)&&a.utils.isNumber(window.external.pageT))b=(new Date).getTime()-window.external.pageT;else if(a.utils.isDefined(window.qc)&&a.utils.isFunction(window.qc.pageT)){var c=
window.qc.pageT();a.utils.isNumber(c)&&(b=(new Date).getTime()-c)}else a.utils.isDefined(window.chrome)&&a.utils.isFunction(window.chrome.csi)&&(c=window.chrome.csi(),a.utils.isDefined(c)&&a.utils.isNumber(c.pageT)&&(b=(new Date).getTime()-c.pageT));b&&(b=Math.round(b),a.log("M105",b))}catch(f){a.exception(f,"M106")}return b};c.tf=function(){var b=a.correlation.startTimeCookie;if(b){a.log("M107",b.startTime,b.startPage);var c=a.utils.bc(document.referrer);if(c===b.startPage)if(isNaN(b.startTime))a.log("M108",
b.startTime);else return b.startTime;else a.log("M109",c,b.startPage)}else a.log("M110")};c.gf=function(b,c){var f=document.domain,d="https:"===document.location.protocol,g="ADRUM=s="+Number(new Date)+"&r="+a.utils.bc(document.location.href),k=g+";path=/";d&&(k+=";secure");a.log("M111",g);if(!a.conf.useStrictDomainCookies){for(var d=b(),f=f.split("."),q="",l=f.length-1;0<=l;l--){q="."+f[l]+q;a.log("M112",q);c(k+";domain="+q);var n=b();if(n!=d&&0<=n.indexOf(g)){a.log("M113");a.log("M114");return}}a.log("M115")}a.log("M116");
c(k);a.log("M117")};c.kb=function(){var a=!1;return function(){a||(a=!0,c.gf(function(){return document.cookie},function(a){document.cookie=a}))}}();return c}();d.uh=f;d.Tg=new f})(a.monitor||(a.monitor={}))})(g||(g={}));(function(a){a.log("M118");a.monitor.Tg.setUp();a.q.processQ();a.initEXTDone=!0;a.log("M119")})(g||(g={}))}};})();
